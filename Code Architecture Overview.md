Code Architecture Overview by Will Baron

The first patch is the main UI patch. On the top left is a button which feeds into a loadbang object which initializes all the values and trains all the Markov chains. The chord menus feed into a pack object which packages the menu values into a list and sends them to the scaleFinder patch. The list being sent to the scaleFinder patch can be seen in the message coming out of the zl.slice object. The two dials on the top right send volume and tempo information to other areas in the project. The main toggle object feeds right into the play patch, as does the output of the scaleFinder object, a bang from the loadbang, and the artist menu information. Various text bubbles and color panels are also in this patch for presentation mode.

In the scaleFinder patch, the MIDI values for the chords from the menu are calculated. The list from the chord menus is sliced up and sent to the chordMaker patch which does some basic math based on the root note and quality of the chord to calculate the MIDI notes in the rest of the chord. The chord MIDI info is sent out of the patch.

The play patch receives four main inputs marked with the four numbered inlets at the top. The first inlet is the play toggle. The play toggle triggers a metronome which keeps time. The chord tempo dial information is sent to this metronome which affects the speed of the metronome. Some math is done to determine which chord should be playing on the metronome beat based off of the count from the metronome as well. Depending on which beat it is, the gate object routes a bang message to the messages containing the chord information from the second inlet. The bang message tells the chord message to pass off its contents to the iter object. This object loops through the content of the message it receives and sends it to the makenote object to play the midi note. The third inlet receives a bang from the loadbang and populates the Markov Chains. The delay object waits for the Markov chains to populate before training them.

The markov patches contain the Markov chain data for each of the different artists. The first inlet is the play/pause toggle which initializes a metronome
